#include <bits/stdc++.h>
using namespace std;
//https://usaco.guide/gold/dp-ranges?lang=cpp#solution---space-jazz
#define int long long
const int nm = 1e6 + 9;
const int N = 1e3 + 9;
const int MOD = 1e9 + 7;
const int LOG = 23;
const int INF = 2e9;
#define el '\n'
#define pii pair<int,int>
int n,a[N],dp[N][N];
void minimize(int &a, int b){
	if (a > b) a = b; 
}

signed main (){
	ios_base::sync_with_stdio(false);
	cin.tie(NULL); cout.tie(NULL);
	for (int i = 0; i < N; i++)
		for (int j = 0; j < N; j++)
			dp[i][j] = INF; 
	cin >> n; 
	for (int i = 1; i <= n; i++){
		cin >> a[i]; dp[i][i] = 1; 
	}
	for (int len = 2; len <= n; len++){
		for (int i = 1; i <= n - len + 1; i++){
			int j = i + len - 1; 
			for (int k = i; k <= j; k++){
				if (a[i] == a[j]) minimize(dp[i][j],dp[i][k]+dp[k+1][j]-1); 
				else minimize(dp[i][j],dp[i][k]+dp[k+1][j]);
			}
		}
	}
//	for (int i = 1; i <= n; i++){
//		for (int j = i; j <= n; j++){
//			cout << dp[i][j] << " ";
//		}
//		cout << el;
//	}
	cout << dp[1][n]; 
	return 0;
}
